<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Bingo Game</title>
    
    <!-- Socket.IO Client -->
    <script src="https://cdn.socket.io/4.0.0/socket.io.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="text-slate-100 min-h-screen flex flex-col items-center justify-center font-sans relative overflow-hidden p-4 md:p-8">

    <!-- Background -->
    <div class="bg-mesh">
        <div class="blob blob-1"></div>
        <div class="blob blob-2"></div>
    </div>

    <!-- Screen 1: Login -->
    <div id="login-screen" class="glass-panel p-6 md:p-12 rounded-3xl w-full max-w-sm md:max-w-md text-center fade-in-up border-t border-white/10">
        <div class="mb-8 md:mb-12">
            <h1 class="text-5xl md:text-7xl font-black text-transparent bg-clip-text bg-gradient-to-br from-white to-slate-400 tracking-tighter drop-shadow-xl">BINGO</h1>
            <p class="text-slate-400 text-[10px] md:text-xs tracking-[0.3em] uppercase mt-2 font-bold opacity-80">Online Multiplayer</p>
        </div>
        
        <div class="mb-6 md:mb-8">
            <input type="text" id="username" placeholder="Enter Nickname" class="w-full p-4 bg-slate-950/60 rounded-xl border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:border-cyan-500 focus:ring-1 focus:ring-cyan-500/50 transition-all font-semibold text-center text-lg shadow-inner">
        </div>
        
        <!-- Buttons for Create/Join -->
        <div id="initial-buttons" class="flex flex-col gap-3">
            <button id="create-btn" class="w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white font-bold py-3.5 md:py-4 rounded-xl transition-all shadow-lg shadow-cyan-900/40 active:scale-95">
                CREATE ROOM
            </button>
            <button id="show-join-btn" class="w-full bg-slate-800/80 hover:bg-slate-700/80 text-white font-bold py-3.5 md:py-4 rounded-xl transition-all border border-slate-700/50 active:scale-95">
                JOIN ROOM
            </button>
        </div>

        <!-- Hidden Join Inputs -->
        <div id="join-inputs" class="hidden animate-fade-in mt-4">
            <input type="number" id="roomId" placeholder="Room Number" class="w-full p-4 mb-4 bg-slate-950/60 rounded-xl border border-slate-700/50 text-white placeholder-slate-500 focus:outline-none focus:border-purple-500 focus:ring-1 focus:ring-purple-500/50 transition-all font-semibold text-center text-lg shadow-inner">
            
            <div class="flex gap-3">
                <button id="confirm-join-btn" class="flex-[2] bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-500 hover:to-pink-500 text-white font-bold py-3.5 rounded-xl transition-all shadow-lg shadow-purple-900/40 active:scale-95">
                    ENTER
                </button>
                <button id="back-btn" class="flex-1 bg-slate-800/80 hover:bg-slate-700/80 border border-slate-700/50 text-white font-bold rounded-xl transition-all active:scale-95">
                    BACK
                </button>
            </div>
        </div>
    </div>

    <!-- Screen 2: Board Setup -->
    <div id="setup-screen" class="hidden glass-panel p-5 md:p-10 rounded-3xl w-full max-w-sm md:max-w-lg fade-in-up border-t border-white/10">
        <div class="flex justify-between items-center mb-6 md:mb-8 pb-4 border-b border-white/5">
            <h2 class="text-xl md:text-2xl font-bold text-white tracking-tight">Setup Board</h2>
            <div class="flex items-center gap-2 md:gap-3 bg-slate-950/40 px-3 py-1.5 md:px-4 md:py-2 rounded-lg border border-white/5">
                <span class="text-[10px] md:text-xs text-slate-400 uppercase font-bold tracking-wider">Room</span>
                <span id="room-display-setup" class="text-cyan-400 font-mono font-bold text-base md:text-xl">---</span>
            </div>
        </div>
        
        <p class="text-slate-400 text-center mb-6 text-xs md:text-sm font-medium">Tap cells to place numbers or Randomize</p>
        
        <!-- Grid: Tighter on mobile (gap-2) to fit width -->
        <div id="setup-grid" class="grid grid-cols-5 gap-2 md:gap-3 mb-6 md:mb-8 select-none"></div>
        
        <div class="flex gap-3">
            <button id="randomize-btn" class="flex-1 bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 md:py-3.5 rounded-xl border border-slate-700/50 transition-all text-sm md:text-base active:scale-95 shadow-lg">
                Randomize
            </button>
            <button id="ready-btn" class="flex-1 bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-500 hover:to-emerald-500 text-white font-bold py-3 md:py-3.5 rounded-xl shadow-lg shadow-green-900/40 transition-all disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none text-sm md:text-base active:scale-95" disabled>
                Ready
            </button>
        </div>
    </div>

    <!-- Screen 3: Game Board -->
    <div id="game-screen" class="hidden w-full max-w-sm md:max-w-lg relative fade-in-up">
        <!-- Header -->
        <div class="glass-panel p-4 md:p-6 rounded-3xl mb-4 flex justify-between items-center border-t border-white/10">
            <div class="flex items-center gap-3">
                <div class="w-9 h-9 md:w-12 md:h-12 rounded-full bg-slate-800 flex items-center justify-center font-bold text-white border border-slate-700 shadow-inner text-sm md:text-lg">
                    P1
                </div>
                <div class="flex flex-col">
                    <span class="text-[9px] md:text-[10px] text-slate-500 uppercase tracking-widest font-bold">You</span>
                    <span id="my-name" class="font-bold text-white text-base md:text-xl leading-none truncate max-w-[80px] md:max-w-[120px]">Me</span>
                </div>
            </div>
            
            <div class="flex flex-col items-center bg-slate-950/40 px-3 md:px-5 py-1.5 md:py-2 rounded-lg border border-white/5 mx-2">
                 <span class="text-[8px] md:text-[10px] text-slate-500 uppercase tracking-widest font-bold">Room</span>
                 <span id="room-display-game" class="font-mono text-cyan-400 font-bold text-sm md:text-base">---</span>
            </div>
            
            <div id="turn-indicator" class="px-3 md:px-5 py-1.5 md:py-2 rounded-full font-bold text-[10px] md:text-xs uppercase tracking-wide bg-slate-800 text-slate-400 border border-slate-700 transition-all duration-300 whitespace-nowrap shadow-md">
                Waiting...
            </div>
        </div>

        <!-- Grid -->
        <div class="glass-panel p-4 md:p-6 rounded-3xl shadow-2xl relative border-t border-white/10">
            <div id="game-grid" class="grid grid-cols-5 gap-2 md:gap-3 select-none"></div>
        </div>
        
        <div id="status-msg" class="mt-6 text-center text-xs md:text-sm font-bold text-slate-500 uppercase tracking-[0.2em]">Waiting for start...</div>
    </div>

    <!-- Game Over Modal (Moved Outside Game Screen for Full Screen Effect) -->
    <div id="game-over-modal" class="hidden fixed inset-0 z-[100] flex flex-col items-center justify-center backdrop-blur-2xl bg-slate-950/90 transition-opacity duration-500">
        <!-- Floating Content Card -->
        <div class="relative z-10 p-10 flex flex-col items-center animate-fade-in">
             <!-- Background Glow -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[300px] h-[300px] bg-gradient-to-r from-purple-500 to-blue-500 rounded-full blur-[100px] opacity-20 pointer-events-none"></div>

            <h2 id="result-title" class="text-6xl md:text-8xl font-black mb-4 text-white drop-shadow-2xl text-center tracking-tighter">VICTORY</h2>
            <p id="result-msg" class="text-xl md:text-2xl text-slate-300 mb-12 font-medium text-center opacity-90">Excellent game!</p>
            
            <button id="play-again-btn" class="px-10 md:px-12 py-4 md:py-5 bg-white hover:bg-slate-200 text-slate-950 font-black text-lg md:text-xl rounded-full shadow-[0_0_40px_rgba(255,255,255,0.2)] transition-all transform hover:scale-105 active:scale-95">
                Play Again
            </button>
            <p id="rematch-status" class="mt-8 text-xs md:text-sm text-cyan-400 font-mono animate-pulse hidden tracking-[0.3em] font-bold"> WAITING FOR OPPONENT </p>
        </div>
    </div>

    <!-- Main Logic -->
    <script src="script.js"></script>
</body>
</html>